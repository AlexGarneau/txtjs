var txt;!function(t){var i=function(){function i(){}return i.set=function(i){null!=i.stage&&(null!=t.Accessibility.timeout&&clearTimeout(t.Accessibility.timeout),null==i.accessibilityId&&(t.Accessibility.data.push(i),i.accessibilityId=t.Accessibility.data.length-1),t.Accessibility.timeout=setTimeout(t.Accessibility.update,300))},i.update=function(){t.Accessibility.timeout=null;var i=t.Accessibility.data.slice(0);i.sort(function(t,i){return t.accessibilityPriority-i.accessibilityPriority});for(var s=i.length,e="",h=i[0].stage.canvas,r=0;s>r;r++)null!=i[r].stage&&(h!=i[r].stage.canvas&&(h.innerHTML=e,e="",h=i[r].stage.canvas),e+=null==i[r].accessibilityText?"<p>"+i[r].text+"</p>":i[r].accessibilityText);h.innerHTML=e},i.clear=function(){t.Accessibility.data=[]},i.data=[],i.timeout=null,i}();t.Accessibility=i}(txt||(txt={}));var __extends=this.__extends||function(t,i){function s(){this.constructor=t}for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);s.prototype=i.prototype,t.prototype=new s},txt;!function(t){var i=function(i){function s(s){if(void 0===s&&(s=null),i.call(this),this.text="",this.lineHeight=null,this.width=100,this.height=20,this.align=t.Align.TOP_LEFT,this.characterCase=t.Case.NORMAL,this.size=12,this.font="belinda",this.tracking=0,this.ligatures=!1,this.fillColor="#000",this.strokeColor=null,this.strokeWidth=null,this.loaderId=null,this.style=null,this.debug=!1,this.original=null,this.words=[],this.lines=[],this.missingGlyphs=null,this.renderCycle=!0,this.accessibilityText=null,this.accessibilityPriority=2,this.accessibilityId=null,s&&(this.original=s,this.set(s)),null==this.style)t.FontLoader.load(this,[this.font]);else{for(var e=[this.font],h=this.style.length,r=0;h>r;++r)void 0!=this.style[r]&&void 0!=this.style[r].font&&e.push(this.style[r].font);t.FontLoader.load(this,e)}}return __extends(s,i),s.prototype.render=function(){this.getStage().update()},s.prototype.complete=function(){},s.prototype.fontLoaded=function(t){this.layout()},s.prototype.layout=function(){if(t.Accessibility.set(this),this.text=this.text.replace(/([\n][ \t]+)/g,"\n"),this.words=[],this.lines=[],this.missingGlyphs=null,this.removeAllChildren(),this.block=new createjs.Container,this.addChild(this.block),1==this.debug){var i=t.FontLoader.getFont(this.font),s=new createjs.Shape;s.graphics.beginStroke("#FF0000"),s.graphics.setStrokeStyle(1.2),s.graphics.drawRect(0,0,this.width,this.height),this.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#000"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=0,this.block.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#F00"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=-i["cap-height"]/i.units*this.size,this.block.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#0F0"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=-i.ascent/i.units*this.size,this.block.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#00F"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=-i.descent/i.units*this.size,this.block.addChild(s)}return""===this.text||void 0===this.text?(this.render(),void this.complete()):this.characterLayout()===!1?void this.removeAllChildren():this.renderCycle===!1?(this.removeAllChildren(),void this.complete()):(this.wordLayout(),this.lineLayout(),this.render(),void this.complete())},s.prototype.characterLayout=function(){var i,s=this.text.length,e={size:this.size,font:this.font,tracking:this.tracking,characterCase:this.characterCase,fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth},h=e,r=0,a=0,o=new t.Word;this.words.push(o);for(var n=0;s>n;n++)if(null!==this.style&&void 0!==this.style[n]&&(h=this.style[n],void 0===h.size&&(h.size=e.size),void 0===h.font&&(h.font=e.font),void 0===h.tracking&&(h.tracking=e.tracking),void 0===h.characterCase&&(h.characterCase=e.characterCase),void 0===h.fillColor&&(h.fillColor=e.fillColor),void 0===h.strokeColor&&(h.strokeColor=e.strokeColor),void 0===h.strokeWidth&&(h.strokeWidth=e.strokeWidth)),"\n"!=this.text.charAt(n)){if(t.FontLoader.isLoaded(h.font)===!1)return t.FontLoader.load(this,[h.font]),!1;if(i=new t.Character(this.text.charAt(n),h,n),this.original.character&&(this.original.character.added&&i.on("added",this.original.character.added),this.original.character.click&&i.on("click",this.original.character.click),this.original.character.dblclick&&i.on("dblclick",this.original.character.dblclick),this.original.character.mousedown&&i.on("mousedown",this.original.character.mousedown),this.original.character.mouseout&&i.on("mouseout",this.original.character.mouseout),this.original.character.mouseover&&i.on("mouseover",this.original.character.mouseover),this.original.character.pressmove&&i.on("pressmove",this.original.character.pressmove),this.original.character.pressup&&i.on("pressup",this.original.character.pressup),this.original.character.removed&&i.on("removed",this.original.character.removed),this.original.character.rollout&&i.on("rollout",this.original.character.rollout),this.original.character.rollover&&i.on("rollover",this.original.character.rollover),this.original.character.tick&&i.on("tick",this.original.character.tick)),i.missing&&(null==this.missingGlyphs&&(this.missingGlyphs=[]),this.missingGlyphs.push({position:n,character:this.text.charAt(n),font:h.font})),i.measuredHeight>a&&(a=i.measuredHeight),0==h.tracking&&1==this.ligatures){var l=this.text.substr(n,4);i._font.ligatures[l.charAt(0)]&&i._font.ligatures[l.charAt(0)][l.charAt(1)]&&(i._font.ligatures[l.charAt(0)][l.charAt(1)][l.charAt(2)]?i._font.ligatures[l.charAt(0)][l.charAt(1)][l.charAt(2)][l.charAt(3)]?(i.setGlyph(i._font.ligatures[l.charAt(0)][l.charAt(1)][l.charAt(2)][l.charAt(3)].glyph),n+=3):(i.setGlyph(i._font.ligatures[l.charAt(0)][l.charAt(1)][l.charAt(2)].glyph),n+=2):(i.setGlyph(i._font.ligatures[l.charAt(0)][l.charAt(1)].glyph),n+=1))}i.x=r,o.addChild(i)," "!=this.text.charAt(n)?("-"==this.text.charAt(n)&&(o.hasHyphen=!0),r=i.x+i._glyph.offset*i.size+i.characterCaseOffset+i.trackingOffset()+i._glyph.getKerning(this.text.charCodeAt(n+1),i.size)):(o.hasSpace=!0,o.spaceOffset=i._glyph.offset*i.size,r=i.x+i._glyph.offset*i.size+i.characterCaseOffset+i.trackingOffset()+i._glyph.getKerning(this.text.charCodeAt(n+1),i.size),o.measuredWidth=r,o.measuredHeight=a,r=0,a=0,o=new t.Word,this.words.push(o))}else s-1>n&&(o.measuredWidth=r,o.measuredHeight=a,0==o.measuredHeight&&(o.measuredHeight=h.size),o.hasNewLine=!0,o=new t.Word,this.words.push(o),a=0,r=0);if(0==o.children.length){{this.words.pop()}o=this.words[this.words.length-1],r=o.measuredWidth,a=o.measuredHeight}return o.measuredWidth=r,o.measuredHeight=a,!0},s.prototype.wordLayout=function(){var i=this.words.length,s=new t.Line;this.lines.push(s),s.y=0;var e,h;this.block.addChild(s);for(var r,a=0,o=0,n=!0,l=0;i>l;l++)if(e=this.words[l],e.x=a,this.original.word&&(this.original.word.added&&e.on("added",this.original.word.added),this.original.word.click&&e.on("click",this.original.word.click),this.original.word.dblclick&&e.on("dblclick",this.original.word.dblclick),this.original.word.mousedown&&e.on("mousedown",this.original.word.mousedown),this.original.word.mouseout&&e.on("mouseout",this.original.word.mouseout),this.original.word.mouseover&&e.on("mouseover",this.original.word.mouseover),this.original.word.pressmove&&e.on("pressmove",this.original.word.pressmove),this.original.word.pressup&&e.on("pressup",this.original.word.pressup),this.original.word.removed&&e.on("removed",this.original.word.removed),this.original.word.rollout&&e.on("rollout",this.original.word.rollout),this.original.word.rollover&&e.on("rollover",this.original.word.rollover),this.original.word.tick&&e.on("tick",this.original.word.tick)),n?o=e.measuredHeight:null!=this.lineHeight?o=this.lineHeight:e.measuredHeight>o&&(o=e.measuredHeight),a+e.measuredWidth>this.width&&1==e.hasNewLine&&s.children.length>0){h=null!=this.lineHeight?s.y+this.lineHeight:s.y+o,s.measuredWidth=a,r=this.words[l-1],void 0!=r&&r.hasSpace&&(s.measuredWidth-=r.spaceOffset),s.measuredHeight=0==n&&null!=this.lineHeight?this.lineHeight:o,n=!1,s=new t.Line,this.lines.push(s),s.y=h,a=0,e.x=0,this.block.addChild(s);var c=this.words[l];s.addChild(c),s.measuredHeight=null!=this.lineHeight?this.lineHeight:c.measuredHeight,s.measuredWidth=c.measuredWidth,s=new t.Line,this.lines.push(s),s.y=null!=this.lineHeight?h+this.lineHeight:h+o,this.block.addChild(s),i-1>l&&(o=0)}else{if(a+e.measuredWidth>this.width&&l>0&&s.children.length>0)h=null!=this.lineHeight?s.y+this.lineHeight:s.y+o,s.measuredWidth=a,r=this.words[l-1],void 0!=r&&r.hasSpace&&(s.measuredWidth-=r.spaceOffset),s.measuredHeight=0==n&&null!=this.lineHeight?this.lineHeight:o,n=!1,s=new t.Line,this.lines.push(s),s.y=h,i-1>l&&(o=0),a=0,e.x=a,this.block.addChild(s);else if(1==e.hasNewLine){h=null!=this.lineHeight?s.y+this.lineHeight:s.y+o,s.measuredWidth=a+e.measuredWidth,s.measuredHeight=0==n&&null!=this.lineHeight?this.lineHeight:o,s.addChild(this.words[l]),n=!1,s=new t.Line,this.lines.push(s),s.y=h,i-1>l&&(o=0),a=0,this.block.addChild(s);continue}a+=e.measuredWidth,s.addChild(this.words[l])}if(0==s.children.length){{this.lines.pop()}s=this.lines[this.lines.length-1]}s.measuredWidth=a,s.measuredHeight=o},s.prototype.lineLayout=function(){for(var i,s=0,e=t.Align,h=t.FontLoader.getFont(this.font),r=(this.size*h.ascent/h.units,this.size*h["cap-height"]/h.units,this.size*h["x-height"]/h.units,this.size*h.descent/h.units,this.lines.length),a=0;r>a;a++)i=this.lines[a],this.original.line&&(this.original.line.added&&i.on("added",this.original.line.added),this.original.line.click&&i.on("click",this.original.line.click),this.original.line.dblclick&&i.on("dblclick",this.original.line.dblclick),this.original.line.mousedown&&i.on("mousedown",this.original.line.mousedown),this.original.line.mouseout&&i.on("mouseout",this.original.line.mouseout),this.original.line.mouseover&&i.on("mouseover",this.original.line.mouseover),this.original.line.pressmove&&i.on("pressmove",this.original.line.pressmove),this.original.line.pressup&&i.on("pressup",this.original.line.pressup),this.original.line.removed&&i.on("removed",this.original.line.removed),this.original.line.rollout&&i.on("rollout",this.original.line.rollout),this.original.line.rollover&&i.on("rollover",this.original.line.rollover),this.original.line.tick&&i.on("tick",this.original.line.tick)),void 0!=i.lastWord()&&i.lastWord().lastCharacter()&&(i.measuredWidth-=i.lastWord().lastCharacter().trackingOffset()),s+=i.measuredHeight,this.align===e.TOP_CENTER?i.x=(this.width-i.measuredWidth)/2:this.align===e.TOP_RIGHT?i.x=this.width-i.measuredWidth:this.align===e.MIDDLE_CENTER?i.x=(this.width-i.measuredWidth)/2:this.align===e.MIDDLE_RIGHT?i.x=this.width-i.measuredWidth:this.align===e.BOTTOM_CENTER?i.x=(this.width-i.measuredWidth)/2:this.align===e.BOTTOM_RIGHT&&(i.x=this.width-i.measuredWidth);this.align===e.TOP_LEFT||this.align===e.TOP_CENTER||this.align===e.TOP_RIGHT?this.block.y=this.lines[0].measuredHeight*h.ascent/h.units+this.lines[0].measuredHeight*h.top/h.units:this.align===e.MIDDLE_LEFT||this.align===e.MIDDLE_CENTER||this.align===e.MIDDLE_RIGHT?this.block.y=this.lines[0].measuredHeight+(this.height-s)/2+this.lines[0].measuredHeight*h.middle/h.units:(this.align===e.BOTTOM_LEFT||this.align===e.BOTTOM_CENTER||this.align===e.BOTTOM_RIGHT)&&(this.block.y=this.height-this.lines[this.lines.length-1].y+this.lines[0].measuredHeight*h.bottom/h.units),this.original.block&&(this.original.block.added&&this.block.on("added",this.original.block.added),this.original.block.click&&this.block.on("click",this.original.block.click),this.original.block.dblclick&&this.block.on("dblclick",this.original.block.dblclick),this.original.block.mousedown&&this.block.on("mousedown",this.original.block.mousedown),this.original.block.mouseout&&this.block.on("mouseout",this.original.block.mouseout),this.original.block.mouseover&&this.block.on("mouseover",this.original.block.mouseover),this.original.block.pressmove&&this.block.on("pressmove",this.original.block.pressmove),this.original.block.pressup&&this.block.on("pressup",this.original.block.pressup),this.original.block.removed&&this.block.on("removed",this.original.block.removed),this.original.block.rollout&&this.block.on("rollout",this.original.block.rollout),this.original.block.rollover&&this.block.on("rollover",this.original.block.rollover),this.original.block.tick&&this.block.on("tick",this.original.block.tick))},s}(createjs.Container);t.Text=i}(txt||(txt={}));var txt;!function(t){var i=function(i){function s(s,e,h,r){if(void 0===h&&(h=null),void 0===r&&(r=null),i.call(this),this.character="",this.characterCode=null,this.font=null,this.tracking=null,this.characterCase=null,this.characterCaseOffset=0,this.index=null,this.size=null,this.fillColor=null,this.strokeColor=null,this.strokeWidth=null,this.measuredWidth=null,this.measuredHeight=null,this.hPosition=null,this.missing=!1,this.set(e),this.index=h,this.characterCase==t.Case.NORMAL)this.character=s;else if(this.characterCase==t.Case.UPPER)this.character=s.toUpperCase();else if(this.characterCase==t.Case.LOWER)this.character=s.toLowerCase();else if(this.characterCase==t.Case.SMALL_CAPS){this.character=s.toUpperCase();var a=!(s===this.character)}else this.character=s;this.characterCode=this.character.charCodeAt(0),this._font=t.FontLoader.getFont(this.font),this._font.glyphs[this.characterCode]?this._glyph=this._font.glyphs[this.characterCode]:this._font.glyphs[String.fromCharCode(this.characterCode).toLowerCase().charCodeAt(0)]?this._glyph=this._font.glyphs[String.fromCharCode(this.characterCode).toLowerCase().charCodeAt(0)]:this._font.glyphs[String.fromCharCode(this.characterCode).toUpperCase().charCodeAt(0)]&&(this._glyph=this._font.glyphs[String.fromCharCode(this.characterCode).toUpperCase().charCodeAt(0)]),void 0===this._glyph&&(console.log("MISSING GLYPH:"+this.character),this._glyph=this._font.glyphs[42],this.missing=!0),this.graphics=this._glyph.graphic(),this.characterCase===t.Case.SMALL_CAPS&&a?(this.scaleX=this.size/this._font.units*.8,this.characterCaseOffset=-.2*this._glyph.offset*this.size):this.scaleX=this.size/this._font.units,this.scaleY=-this.scaleX,this.measuredHeight=(this._font.ascent-this._font.descent)*this.scaleX,this.measuredWidth=this.scaleX*this._glyph.offset*this._font.units;var o=new createjs.Shape;o.graphics.beginFill("#000").drawRect(0,this._font.descent,this._glyph.offset*this._font.units,this._font.ascent-this._font.descent),this.hitArea=o}return __extends(s,i),s.prototype.setGlyph=function(t){this._glyph=t,this.graphics=this._glyph.graphic()},s.prototype.trackingOffset=function(){return this.size*(2.5/this._font.units+1/900+this.tracking/990)},s.prototype.draw=function(t){return this._glyph._fill.style=this.fillColor,this._glyph._fill.matrix=null,this._glyph._stroke.style=this.strokeColor,this._glyph._strokeStyle.width=this.strokeWidth,this._glyph.draw(t)},s.prototype.getWidth=function(){return this.size*this._glyph.offset},s}(createjs.Shape);t.Character=i}(txt||(txt={}));var txt;!function(t){var i=function(){function t(){this.glyphs={},this.kerning={},this.top=0,this.middle=0,this.bottom=0,this.units=1e3,this.ligatures={},this.loaded=!1,this.targets=[]}return t.prototype.cloneGlyph=function(t,i){void 0==this.glyphs[t]&&void 0!=this.glyphs[i]&&(this.glyphs[t]=this.glyphs[i],this.kerning[t]=this.kerning[i])},t}();t.Font=i}(txt||(txt={}));var txt;!function(t){var i=function(){function t(){this.path="",this.kerning={},this._graphic=null}return t.prototype.graphic=function(){return null==this._graphic&&(this._graphic=new createjs.Graphics,this._stroke=new createjs.Graphics.Stroke(null,!0),this._strokeStyle=new createjs.Graphics.StrokeStyle(0),this._fill=new createjs.Graphics.Fill(null),this._graphic.decodeSVGPath(this.path),this._graphic.append(this._fill),this._graphic.append(this._strokeStyle),this._graphic.append(this._stroke)),this._graphic},t.prototype.draw=function(t){return this._graphic.draw(t),!0},t.prototype.getKerning=function(t,i){var s=-(this.kerning[t]*i);return isNaN(s)?0:isNaN(t)?0:isNaN(i)?0:void 0!=this.kerning[t]?s:0},t}();t.Glyph=i}(txt||(txt={}));var txt;!function(t){var i=function(){function i(){}return i.isLoaded=function(i){return t.FontLoader.fonts.hasOwnProperty(i)?t.FontLoader.fonts[i].loaded:!1},i.getFont=function(i){return t.FontLoader.fonts.hasOwnProperty(i)?t.FontLoader.fonts[i]:null},i.load=function(i,s){var e;null==i.loaderId?(e={},i.loaderId=t.FontLoader.loaders.push(e)-1,e._id=i.loaderId,e._target=i):e=t.FontLoader.loaders[i.loaderId];for(var h=s.length,r=0;h>r;++r)e[s[r]]=!1;for(var a in e)"_"!=a.charAt(0)&&t.FontLoader.loadFont(a,e)},i.check=function(i){var s=t.FontLoader.loaders[i];for(var e in s)if("_"!=e.charAt(0)&&(s[e]=t.FontLoader.isLoaded(e),0==s[e]))return;window.setTimeout(function(){s._target.fontLoaded()},1)},i.loadFont=function(i,s){t.FontLoader.fonts;if(t.FontLoader.fonts.hasOwnProperty(i))t.FontLoader.fonts[i].loaded===!0?t.FontLoader.check(s._id):t.FontLoader.fonts[i].targets.push(s._id);else{var e=t.FontLoader.fonts[i]=new t.Font;e.targets.push(s._id);var h=new XMLHttpRequest;if(localStorage&&t.FontLoader.cache){var r=JSON.parse(localStorage.getItem("txt_font_"+i.split(" ").join("_")));null!=r&&r.version===t.FontLoader.version&&(h.cacheResponseText=r.font,h.cacheFont=!0)}h.onload=function(){localStorage&&t.FontLoader.cache&&void 0==this.cacheFont&&localStorage.setItem("txt_font_"+i.split(" ").join("_"),JSON.stringify({font:this.responseText,version:t.FontLoader.version}));var s=this.responseText.split("\n");this.cacheResponseText&&(s=this.cacheResponseText.split("\n"));for(var h,r,a=s.length,o=0;a>o;){switch(h=s[o].split("|"),h[0]){case"0":e[h[1]]="id"==h[1]||"panose"==h[1]||"family"==h[1]||"font-style"==h[1]||"font-stretch"==h[1]?h[2]:parseInt(h[2]);break;case"1":r=new t.Glyph,r.offset=parseInt(h[2])/e.units,r.path=h[3],e.glyphs[h[1]]=r;break;case"2":void 0==e.kerning[h[1]]&&(e.kerning[h[1]]={}),void 0==e.glyphs[h[1]]&&(r=new t.Glyph,r.offset=e["default"]/e.units,r.path="",e.glyphs[h[1]]=r),e.glyphs[h[1]].kerning[h[2]]=parseInt(h[3])/e.units,e.kerning[h[1]][h[2]]=parseInt(h[3])/e.units;break;case"3":h.shift();for(var n=h.length,l=0;n>l;l++)for(var c=h[l].split(""),g=c.length,d=e.ligatures,u=0;g>u;u++)void 0==d[c[u]]&&(d[c[u]]={}),u==g-1&&(d[c[u]].glyph=e.glyphs[h[l]]),d=d[c[u]]}o++}e.cloneGlyph(183,8226),e.cloneGlyph(8729,8226),e.cloneGlyph(12539,8226),e.cloneGlyph(9702,8226),e.cloneGlyph(9679,8226),e.cloneGlyph(9675,8226),void 0==e.top&&(e.top=0),void 0==e.middle&&(e.middle=0),void 0==e.bottom&&(e.bottom=0);var p=e.targets.length;e.loaded=!0;for(var f=0;p>f;++f)t.FontLoader.check(e.targets[f]);e.targets=[]},1==h.cacheFont?h.onload():(h.open("get",t.FontLoader.path+i.split(" ").join("_")+".txt",!0),h.send())}},i.path="/font/",i.cache=!1,i.version=0,i.fonts={},i.loaders=[],i}();t.FontLoader=i}(txt||(txt={})),createjs.Graphics.prototype.decodeSVGPath=function(t){return txt.Graphics.init(this,t),this};var txt;!function(t){var i=function(){function t(){}return t.init=function(i,s){for(var e=t.parsePathData(s),h=createjs.Graphics,r=0;r<e.length;r++){var a=e[r].command,o=e[r].points;switch(a){case"L":i.append(new h.LineTo(o[0],o[1]));break;case"M":i.append(new h.MoveTo(o[0],o[1]));break;case"C":i.append(new h.BezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]));break;case"Q":i.append(new h.QuadraticCurveTo(o[0],o[1],o[2],o[3]));break;case"A":i.append(new h.SVGArc(o[0],o[1],o[2],o[3],o[4],o[5],o[6]));break;case"Z":i.append(new h.ClosePath),i.append(new h.MoveTo(o[0],o[1]))}}},t.parsePathData=function(t){if(!t)return[];var i=t,s=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];i=i.replace(new RegExp(" ","g"),",");for(var e=0;e<s.length;e++)i=i.replace(new RegExp(s[e],"g"),"|"+s[e]);var h=i.split("|"),r=[],a=0,o=0,n=h.length,l=null;for(e=1;n>e;e++){var c=h[e],g=c.charAt(0);c=c.slice(1),c=c.replace(new RegExp(",-","g"),"-"),c=c.replace(new RegExp("-","g"),",-"),c=c.replace(new RegExp("e,-","g"),"e-");var d=c.split(",");d.length>0&&""===d[0]&&d.shift();for(var u=d.length,p=0;u>p;p++)d[p]=parseFloat(d[p]);for(("z"===g||"Z"===g)&&(d=[!0]);d.length>0&&!isNaN(d[0]);){var f,k,v,m,y,C,b,x,w,L,A=null,_=[],P=a,T=o;switch(g){case"l":a+=d.shift(),o+=d.shift(),A="L",_.push(a,o);break;case"L":a=d.shift(),o=d.shift(),_.push(a,o);break;case"m":var z=d.shift(),R=d.shift();a+=z,o+=R,null==l&&(l=[a,o]),A="M",_.push(a,o),g="l";break;case"M":a=d.shift(),o=d.shift(),A="M",null==l&&(l=[a,o]),_.push(a,o),g="L";break;case"h":a+=d.shift(),A="L",_.push(a,o);break;case"H":a=d.shift(),A="L",_.push(a,o);break;case"v":o+=d.shift(),A="L",_.push(a,o);break;case"V":o=d.shift(),A="L",_.push(a,o);break;case"C":_.push(d.shift(),d.shift(),d.shift(),d.shift()),a=d.shift(),o=d.shift(),_.push(a,o);break;case"c":_.push(a+d.shift(),o+d.shift(),a+d.shift(),o+d.shift()),a+=d.shift(),o+=d.shift(),A="C",_.push(a,o);break;case"S":k=a,v=o,f=r[r.length-1],"C"===f.command&&(k=a+(a-f.points[2]),v=o+(o-f.points[3])),_.push(k,v,d.shift(),d.shift()),a=d.shift(),o=d.shift(),A="C",_.push(a,o);break;case"s":k=a,v=o,f=r[r.length-1],"C"===f.command&&(k=a+(a-f.points[2]),v=o+(o-f.points[3])),_.push(k,v,a+d.shift(),o+d.shift()),a+=d.shift(),o+=d.shift(),A="C",_.push(a,o);break;case"Q":_.push(d.shift(),d.shift()),a=d.shift(),o=d.shift(),_.push(a,o);break;case"q":_.push(a+d.shift(),o+d.shift()),a+=d.shift(),o+=d.shift(),A="Q",_.push(a,o);break;case"T":k=a,v=o,f=r[r.length-1],"Q"===f.command&&(k=a+(a-f.points[0]),v=o+(o-f.points[1])),a=d.shift(),o=d.shift(),A="Q",_.push(k,v,a,o);break;case"t":k=a,v=o,f=r[r.length-1],"Q"===f.command&&(k=a+(a-f.points[0]),v=o+(o-f.points[1])),a+=d.shift(),o+=d.shift(),A="Q",_.push(k,v,a,o);break;case"A":m=d.shift(),y=d.shift(),C=d.shift(),b=d.shift(),x=d.shift(),w=a,L=o,a=d.shift(),o=d.shift(),A="A",_=[[w,L],m,y,C,b,x,[a,o]];break;case"a":m=d.shift(),y=d.shift(),C=d.shift(),b=d.shift(),x=d.shift(),w=a,L=o,a+=d.shift(),o+=d.shift(),A="A",_=[[w,L],m,y,C,b,x,[a,o]];break;case"z":A="Z",l?(a=l[0],o=l[1],l=null):(a=0,o=0),d.shift(),_=[a,o];break;case"Z":A="Z",l?(a=l[0],o=l[1],l=null):(a=0,o=0),d.shift(),_=[a,o]}r.push({command:A||g,points:_,start:{x:P,y:T}})}}return r},t}();t.Graphics=i}(txt||(txt={}));var createjs;!function(t){var i;!function(t){var i=function(){function t(t,i,s,e,h,r,a){if(this.rx=i,this.ry=s,this.x2=a,0!=i&&0!=s){var e=e*(Math.PI/180);i=Math.abs(i),s=Math.abs(s);var o=this.rotClockwise(this.midPoint(t,a),e),n=this.pointMul(o,o),l=Math.pow(i,2),c=Math.pow(s,2),g=Math.sqrt(n[0]/l+n[1]/c);g>1&&(i*=g,s*=g,l=Math.pow(i,2),c=Math.pow(s,2));var d=l*c-l*n[1]-c*n[0];d>-1e-6&&1e-6>d&&(d=0);var u=l*n[1]+c*n[0];u>-1e-6&&1e-6>u&&(u=0);var p=Math.sqrt(d/u);h==r&&(p*=-1);var f=this.scale(p,[i*o[1]/s,-s*o[0]/i]),k=this.sum(this.rotCounterClockwise(f,e),this.meanVec(t,a)),v=[(o[0]-f[0])/i,(o[1]-f[1])/s],m=[(-1*o[0]-f[0])/i,(-1*o[1]-f[1])/s],y=this.angle([1,0],v),C=this.angle(v,m);isNaN(C)&&(C=Math.PI);var b=y,x=y+C;this.cx=k[0],this.cy=k[1],this.phi=e,this.rx=i,this.ry=s,this.start=b,this.end=x,this.fS=!r}}return t.prototype.mag=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},t.prototype.meanVec=function(t,i){return[(t[0]+i[0])/2,(t[1]+i[1])/2]},t.prototype.dot=function(t,i){return t[0]*i[0]+t[1]*i[1]},t.prototype.ratio=function(t,i){return this.dot(t,i)/(this.mag(t)*this.mag(i))},t.prototype.rotClockwise=function(t,i){var s=Math.cos(i),e=Math.sin(i);return[s*t[0]+e*t[1],-1*e*t[0]+s*t[1]]},t.prototype.pointMul=function(t,i){return[t[0]*i[0],t[1]*i[1]]},t.prototype.scale=function(t,i){return[t*i[0],t*i[1]]},t.prototype.sum=function(t,i){return[t[0]+i[0],t[1]+i[1]]},t.prototype.angle=function(t,i){var s=1;return t[0]*i[1]-t[1]*i[0]<0&&(s=-1),s*Math.acos(this.ratio(t,i))},t.prototype.rotCounterClockwise=function(t,i){var s=Math.cos(i),e=Math.sin(i);return[s*t[0]-e*t[1],e*t[0]+s*t[1]]},t.prototype.midPoint=function(t,i){return[(t[0]-i[0])/2,(t[1]-i[1])/2]},t.prototype.exec=function(t){return 0==this.rx||0==this.ry?void t.lineTo(this.x2[0],this.x2[1]):(t.translate(this.cx,this.cy),t.rotate(this.phi),t.scale(this.rx,this.ry),t.arc(0,0,1,this.start,this.end,this.fS),t.scale(1/this.rx,1/this.ry),t.rotate(-this.phi),void t.translate(-this.cx,-this.cy))},t}();t.SVGArc=i}(i=t.Graphics||(t.Graphics={}))}(createjs||(createjs={}));var txt;!function(t){var i=function(){function t(){}return t.NORMAL=0,t.UPPER=1,t.LOWER=2,t.SMALL_CAPS=3,t}();t.Case=i}(txt||(txt={}));var txt;!function(t){var i=function(){function t(){}return t.TOP_LEFT=0,t.TOP_CENTER=1,t.TOP_RIGHT=2,t.MIDDLE_LEFT=3,t.MIDDLE_CENTER=4,t.MIDDLE_RIGHT=5,t.BOTTOM_LEFT=6,t.BOTTOM_CENTER=7,t.BOTTOM_RIGHT=8,t.TL=0,t.TC=1,t.TR=2,t.ML=3,t.MC=4,t.MR=5,t.BL=6,t.BC=7,t.BR=8,t}();t.Align=i}(txt||(txt={}));var txt;!function(t){var i=function(i){function s(s){if(void 0===s&&(s=null),i.call(this),this.text="",this.lineHeight=null,this.width=100,this.height=20,this.align=t.Align.TOP_LEFT,this.characterCase=t.Case.NORMAL,this.size=12,this.minSize=null,this.maxTracking=null,this.font="belinda",this.tracking=0,this.ligatures=!1,this.fillColor="#000",this.strokeColor=null,this.strokeWidth=null,this.singleLine=!1,this.autoExpand=!1,this.autoReduce=!1,this.overset=!1,this.oversetIndex=null,this.loaderId=null,this.style=null,this.debug=!1,this.original=null,this.lines=[],this.missingGlyphs=null,this.renderCycle=!0,this.measured=!1,this.oversetPotential=!1,this.accessibilityText=null,this.accessibilityPriority=2,this.accessibilityId=null,s&&(this.original=s,this.set(s),this.original.tracking=this.tracking),null==this.style)t.FontLoader.load(this,[this.font]);else{for(var e=[this.font],h=this.style.length,r=0;h>r;++r)void 0!=this.style[r]&&void 0!=this.style[r].font&&e.push(this.style[r].font);t.FontLoader.load(this,e)}}return __extends(s,i),s.prototype.complete=function(){},s.prototype.fontLoaded=function(){this.layout()},s.prototype.render=function(){this.getStage().update()},s.prototype.layout=function(){if(t.Accessibility.set(this),this.overset=!1,this.measured=!1,this.oversetPotential=!1,this.original.size&&(this.size=this.original.size),this.original.tracking&&(this.tracking=this.original.tracking),this.text=this.text.replace(/([\n][ \t]+)/g,"\n"),this.singleLine===!0&&(this.text=this.text.split("\n").join(""),this.text=this.text.split("\r").join("")),this.lines=[],this.missingGlyphs=null,this.removeAllChildren(),""===this.text||void 0===this.text)return this.render(),void this.complete();if(this.block=new createjs.Container,this.addChild(this.block),1==this.debug){var i=t.FontLoader.getFont(this.font),s=new createjs.Shape;s.graphics.beginStroke("#FF0000"),s.graphics.setStrokeStyle(1.2),s.graphics.drawRect(0,0,this.width,this.height),this.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#000"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=0,this.block.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#F00"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=-i["cap-height"]/i.units*this.size,this.block.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#0F0"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=-i.ascent/i.units*this.size,this.block.addChild(s),s=new createjs.Shape,s.graphics.beginFill("#00F"),s.graphics.drawRect(0,0,this.width,.2),s.x=0,s.y=-i.descent/i.units*this.size,this.block.addChild(s)}return this.singleLine!==!0||this.autoExpand!==!0&&this.autoReduce!==!0||this.measure(),this.renderCycle===!1?(this.removeAllChildren(),void this.complete()):this.characterLayout()===!1?void this.removeAllChildren():(this.lineLayout(),this.render(),void this.complete())},s.prototype.measure=function(){this.measured=!0;for(var i,s,e=(this.original.size,this.text.length),h=(this.getWidth(),{size:this.original.size,font:this.original.font,tracking:this.original.tracking,characterCase:this.original.characterCase}),r=null,a=[],o=h.size,n=0;e>n;n++)r=this.text.charCodeAt(n),i=h,void 0!==this.original.style&&void 0!==this.original.style[n]&&(i=this.original.style[n],void 0===i.size&&(i.size=h.size),void 0===i.font&&(i.font=h.font),void 0===i.tracking&&(i.tracking=h.tracking)),i.size>o&&(o=i.size),s=t.FontLoader.fonts[i.font],a.push({"char":this.text[n],size:i.size,charCode:r,font:i.font,offset:s.glyphs[r].offset,units:s.units,tracking:this.trackingOffset(i.tracking,i.size,s.units),kerning:s.glyphs[r].getKerning(this.getCharCodeAt(n+1),1)});var l={"char":" ",size:i.size,charCode:32,font:i.font,offset:s.glyphs[32].offset,units:s.units,tracking:0,kerning:0};a[a.length-1].tracking=0,e=a.length;for(var c=0,g=0,d=0,u=null,n=0;e>n;n++)u=a[n],c=c+u.offset+u.kerning,g+=(u.offset+u.kerning)*u.size,d+=(u.offset+u.kerning+u.tracking)*u.size;if(g>this.width){if(this.autoReduce===!0)return this.tracking=0,this.size=this.original.size*this.width/(g+l.offset*l.size),null!=this.minSize&&this.size<this.minSize&&(this.size=this.minSize,this.oversetPotential=!0),!0}else{var p=this.offsetTracking((this.width-g)/e,u.size,u.units);if(0>p&&(p=0),p>this.original.tracking&&this.autoExpand)return this.tracking=null!=this.maxTracking&&p>this.maxTracking?this.maxTracking:p,this.size=this.original.size,!0;if(p<this.original.tracking&&this.autoReduce)return this.tracking=null!=this.maxTracking&&p>this.maxTracking?this.maxTracking:p,this.size=this.original.size,!0}return!0},s.prototype.trackingOffset=function(t,i,s){return i*(2.5/s+1/900+t/990)},s.prototype.offsetTracking=function(t,i,s){return Math.floor(990*(t-2.5/s-1/900)/i)},s.prototype.getWidth=function(){return this.width},s.prototype.characterLayout=function(){var i,s=this.text.length,e={size:this.size,font:this.font,tracking:this.tracking,characterCase:this.characterCase,fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth},h=e,r=0,a=0,o=0,n=!0,l=new t.Line;this.lines.push(l),this.block.addChild(l);for(var c=0;s>c;c++)if(null!==this.style&&void 0!==this.style[c]&&(h=this.style[c],void 0===h.size&&(h.size=e.size),void 0===h.font&&(h.font=e.font),void 0===h.tracking&&(h.tracking=e.tracking),void 0===h.characterCase&&(h.characterCase=e.characterCase),void 0===h.fillColor&&(h.fillColor=e.fillColor),void 0===h.strokeColor&&(h.strokeColor=e.strokeColor),void 0===h.strokeWidth&&(h.strokeWidth=e.strokeWidth)),"\n"!=this.text.charAt(c)&&"\r"!=this.text.charAt(c)){if(t.FontLoader.isLoaded(h.font)===!1)return t.FontLoader.load(this,[h.font]),!1;if(i=new t.Character(this.text.charAt(c),h,c),this.original.character&&(this.original.character.added&&i.on("added",this.original.character.added),this.original.character.click&&i.on("click",this.original.character.click),this.original.character.dblclick&&i.on("dblclick",this.original.character.dblclick),this.original.character.mousedown&&i.on("mousedown",this.original.character.mousedown),this.original.character.mouseout&&i.on("mouseout",this.original.character.mouseout),this.original.character.mouseover&&i.on("mouseover",this.original.character.mouseover),this.original.character.pressmove&&i.on("pressmove",this.original.character.pressmove),this.original.character.pressup&&i.on("pressup",this.original.character.pressup),this.original.character.removed&&i.on("removed",this.original.character.removed),this.original.character.rollout&&i.on("rollout",this.original.character.rollout),this.original.character.rollover&&i.on("rollover",this.original.character.rollover),this.original.character.tick&&i.on("tick",this.original.character.tick)),i.missing&&(null==this.missingGlyphs&&(this.missingGlyphs=[]),this.missingGlyphs.push({position:c,character:this.text.charAt(c),font:h.font})),n===!0?a<i.size&&(a=i.size):void 0!=this.lineHeight&&this.lineHeight>0?a<this.lineHeight&&(a=this.lineHeight):i.measuredHeight>a&&(a=i.measuredHeight),0==h.tracking&&1==this.ligatures){var g=this.text.substr(c,4);i._font.ligatures[g.charAt(0)]&&i._font.ligatures[g.charAt(0)][g.charAt(1)]&&(i._font.ligatures[g.charAt(0)][g.charAt(1)][g.charAt(2)]?i._font.ligatures[g.charAt(0)][g.charAt(1)][g.charAt(2)][g.charAt(3)]?(i.setGlyph(i._font.ligatures[g.charAt(0)][g.charAt(1)][g.charAt(2)][g.charAt(3)].glyph),
c+=3):(i.setGlyph(i._font.ligatures[g.charAt(0)][g.charAt(1)][g.charAt(2)].glyph),c+=2):(i.setGlyph(i._font.ligatures[g.charAt(0)][g.charAt(1)].glyph),c+=1))}if(1==this.overset)break;if(this.singleLine===!1&&r+i.measuredWidth>this.width){var d=l.children[l.children.length-1];l.measuredWidth=32==d.characterCode?r-d.measuredWidth-d.trackingOffset()-d._glyph.getKerning(this.getCharCodeAt(c),d.size):r-d.trackingOffset()-d._glyph.getKerning(this.getCharCodeAt(c),d.size),n===!0?(l.measuredHeight=a,l.y=0,o=0):(l.measuredHeight=a,o+=a,l.y=o),n=!1,l=new t.Line,l.addChild(i),r=32==i.characterCode?0:i.x+i._glyph.offset*i.size+i.characterCaseOffset+i.trackingOffset(),this.lines.push(l),this.block.addChild(l),a=0}else 1==this.measured&&this.singleLine===!0&&r+i.measuredWidth>this.width&&1==this.oversetPotential?(this.oversetIndex=c,this.overset=!0):0==this.measured&&this.singleLine===!0&&r+i.measuredWidth>this.width?(this.oversetIndex=c,this.overset=!0):(i.x=r,l.addChild(i),r=i.x+i._glyph.offset*i.size+i.characterCaseOffset+i.trackingOffset()+i._glyph.getKerning(this.getCharCodeAt(c+1),i.size))}else s-1>c&&(n===!0?(a=h.size,l.measuredHeight=h.size,l.measuredWidth=r,o=0,l.y=0):void 0!=this.lineHeight?(a=this.lineHeight,l.measuredHeight=a,l.measuredWidth=r,o+=a,l.y=o):(a=i.measuredHeight,l.measuredHeight=a,l.measuredWidth=r,o+=a,l.y=o),n=!1,l=new t.Line,l.measuredHeight=h.size,l.measuredWidth=0,this.lines.push(l),this.block.addChild(l),a=0,r=0),"\r"==this.text.charAt(c)&&"\n"==this.text.charAt(c+1)&&c++;if(0==l.children.length){{this.lines.pop()}l=this.lines[this.lines.length-1],r=l.measuredWidth,a=l.measuredHeight}return n===!0?(l.measuredWidth=r,l.measuredHeight=a,l.y=0):(l.measuredWidth=r,l.measuredHeight=a,0==a&&(a=this.lineHeight?this.lineHeight:h.size),l.y=o+a),!0},s.prototype.getCharCodeAt=function(i){return this.characterCase==t.Case.NORMAL?this.text.charAt(i).charCodeAt(0):this.characterCase==t.Case.UPPER?this.text.charAt(i).toUpperCase().charCodeAt(0):this.characterCase==t.Case.LOWER?this.text.charAt(i).toLowerCase().charCodeAt(0):this.characterCase==t.Case.SMALL_CAPS?this.text.charAt(i).toUpperCase().charCodeAt(0):this.text.charAt(i).charCodeAt(0)},s.prototype.lineLayout=function(){for(var i,s=0,e=t.Align,h=t.FontLoader.getFont(this.font),r=(this.size*h.ascent/h.units,this.size*h["cap-height"]/h.units,this.size*h["x-height"]/h.units,this.size*h.descent/h.units,this.lines.length),a=0;r>a;a++)i=this.lines[a],i.lastCharacter()&&(i.measuredWidth-=i.lastCharacter().trackingOffset()),this.original.line&&(this.original.line.added&&i.on("added",this.original.line.added),this.original.line.click&&i.on("click",this.original.line.click),this.original.line.dblclick&&i.on("dblclick",this.original.line.dblclick),this.original.line.mousedown&&i.on("mousedown",this.original.line.mousedown),this.original.line.mouseout&&i.on("mouseout",this.original.line.mouseout),this.original.line.mouseover&&i.on("mouseover",this.original.line.mouseover),this.original.line.pressmove&&i.on("pressmove",this.original.line.pressmove),this.original.line.pressup&&i.on("pressup",this.original.line.pressup),this.original.line.removed&&i.on("removed",this.original.line.removed),this.original.line.rollout&&i.on("rollout",this.original.line.rollout),this.original.line.rollover&&i.on("rollover",this.original.line.rollover),this.original.line.tick&&i.on("tick",this.original.line.tick)),s+=i.measuredHeight,this.align===e.TOP_CENTER?i.x=(this.width-i.measuredWidth)/2:this.align===e.TOP_RIGHT?i.x=this.width-i.measuredWidth:this.align===e.MIDDLE_CENTER?i.x=(this.width-i.measuredWidth)/2:this.align===e.MIDDLE_RIGHT?i.x=this.width-i.measuredWidth:this.align===e.BOTTOM_CENTER?i.x=(this.width-i.measuredWidth)/2:this.align===e.BOTTOM_RIGHT&&(i.x=this.width-i.measuredWidth);this.align===e.TOP_LEFT||this.align===e.TOP_CENTER||this.align===e.TOP_RIGHT?this.block.y=0==h.top?this.lines[0].measuredHeight*h.ascent/h.units:this.lines[0].measuredHeight*h.ascent/h.units+this.lines[0].measuredHeight*h.top/h.units:this.align===e.MIDDLE_LEFT||this.align===e.MIDDLE_CENTER||this.align===e.MIDDLE_RIGHT?this.block.y=this.lines[0].measuredHeight+(this.height-s)/2+this.lines[0].measuredHeight*h.middle/h.units:(this.align===e.BOTTOM_LEFT||this.align===e.BOTTOM_CENTER||this.align===e.BOTTOM_RIGHT)&&(this.block.y=this.height-this.lines[this.lines.length-1].y+this.lines[0].measuredHeight*h.bottom/h.units),this.original.block&&(this.original.block.added&&this.block.on("added",this.original.block.added),this.original.block.click&&this.block.on("click",this.original.block.click),this.original.block.dblclick&&this.block.on("dblclick",this.original.block.dblclick),this.original.block.mousedown&&this.block.on("mousedown",this.original.block.mousedown),this.original.block.mouseout&&this.block.on("mouseout",this.original.block.mouseout),this.original.block.mouseover&&this.block.on("mouseover",this.original.block.mouseover),this.original.block.pressmove&&this.block.on("pressmove",this.original.block.pressmove),this.original.block.pressup&&this.block.on("pressup",this.original.block.pressup),this.original.block.removed&&this.block.on("removed",this.original.block.removed),this.original.block.rollout&&this.block.on("rollout",this.original.block.rollout),this.original.block.rollover&&this.block.on("rollover",this.original.block.rollover),this.original.block.tick&&this.block.on("tick",this.original.block.tick))},s}(createjs.Container);t.CharacterText=i}(txt||(txt={}));var txt;!function(t){!function(t){t[t.Top=0]="Top",t[t.CapHeight=1]="CapHeight",t[t.Center=2]="Center",t[t.BaseLine=3]="BaseLine",t[t.Bottom=4]="Bottom",t[t.XHeight=5]="XHeight",t[t.Ascent=6]="Ascent",t[t.Percent=7]="Percent"}(t.VerticalAlign||(t.VerticalAlign={}));var i=(t.VerticalAlign,function(i){function s(s){if(void 0===s&&(s=null),i.call(this),this.text="",this.characterCase=t.Case.NORMAL,this.size=12,this.font="belinda",this.tracking=0,this.ligatures=!1,this.minSize=null,this.maxTracking=null,this.fillColor="#000",this.strokeColor=null,this.strokeWidth=null,this.style=null,this.debug=!1,this.original=null,this.autoExpand=!1,this.autoReduce=!1,this.overset=!1,this.oversetIndex=null,this.pathPoints=null,this.path="",this.start=0,this.end=null,this.flipped=!1,this.fit=0,this.align=0,this.valign=3,this.missingGlyphs=null,this.renderCycle=!0,this.valignPercent=1,this.initialTracking=0,this.initialOffset=0,this.measured=!1,this.oversetPotential=!1,this.accessibilityText=null,this.accessibilityPriority=2,this.accessibilityId=null,s&&(this.original=s,this.set(s),this.original.tracking=this.tracking),null==this.style)t.FontLoader.load(this,[this.font]);else{for(var e=[this.font],h=this.style.length,r=0;h>r;++r)void 0!=this.style[r]&&void 0!=this.style[r].font&&e.push(this.style[r].font);t.FontLoader.load(this,e)}this.pathPoints=new t.Path(this.path,this.start,this.end,this.flipped,this.fit,this.align)}return __extends(s,i),s.prototype.complete=function(){},s.prototype.setPath=function(t){this.path=t,this.pathPoints.path=this.path,this.pathPoints.update()},s.prototype.setStart=function(t){this.start=t,this.pathPoints.start=this.start,this.pathPoints.update()},s.prototype.setEnd=function(t){this.end=t,this.pathPoints.end=this.end,this.pathPoints.update()},s.prototype.setFlipped=function(t){this.flipped=t,this.pathPoints.flipped=this.flipped,this.pathPoints.update()},s.prototype.setFit=function(t){void 0===t&&(t=0),this.fit=t,this.pathPoints.fit=this.fit,this.pathPoints.update()},s.prototype.setAlign=function(t){void 0===t&&(t=0),this.align=t,this.pathPoints.align=this.align,this.pathPoints.update()},s.prototype.fontLoaded=function(){this.layout()},s.prototype.render=function(){this.getStage().update()},s.prototype.getWidth=function(){return this.pathPoints.realLength},s.prototype.layout=function(){if(t.Accessibility.set(this),this.overset=!1,this.oversetIndex=null,this.removeAllChildren(),this.characters=[],this.missingGlyphs=null,this.measured=!1,this.oversetPotential=!1,1==this.debug){var i=new createjs.Shape;i.graphics.beginStroke("#FF0000"),i.graphics.setStrokeStyle(.1),i.graphics.decodeSVGPath(this.path),i.graphics.endFill(),i.graphics.endStroke(),this.addChild(i),i=new createjs.Shape;var s=this.pathPoints.getRealPathPoint(0);i.x=s.x,i.y=s.y,i.graphics.beginFill("black"),i.graphics.drawCircle(0,0,2),this.addChild(i),i=new createjs.Shape;var s=this.pathPoints.getRealPathPoint(this.pathPoints.start);i.x=s.x,i.y=s.y,i.graphics.beginFill("green"),i.graphics.drawCircle(0,0,2),this.addChild(i),i=new createjs.Shape,s=this.pathPoints.getRealPathPoint(this.pathPoints.end),i.x=s.x,i.y=s.y,i.graphics.beginFill("red"),i.graphics.drawCircle(0,0,2),this.addChild(i),i=new createjs.Shape,s=this.pathPoints.getRealPathPoint(this.pathPoints.center),i.x=s.x,i.y=s.y,i.graphics.beginFill("blue"),i.graphics.drawCircle(0,0,2),this.addChild(i)}return""===this.text||void 0===this.text?void this.render():(this.block=new createjs.Container,this.addChild(this.block),this.autoExpand!==!0&&this.autoReduce!==!0||this.measure()!==!1?this.renderCycle===!1?(this.removeAllChildren(),void this.complete()):this.characterLayout()===!1?void this.removeAllChildren():(this.render(),void this.complete()):void this.removeAllChildren())},s.prototype.measure=function(){this.measured=!0;for(var i,s,e=(this.original.size,this.text.length),h=this.getWidth(),r={size:this.original.size,font:this.original.font,tracking:this.original.tracking,characterCase:this.original.characterCase},a=null,o=[],n=r.size,l=0;e>l;l++)a=this.text.charCodeAt(l),i=r,void 0!==this.original.style&&void 0!==this.original.style[l]&&(i=this.original.style[l],void 0===i.size&&(i.size=r.size),void 0===i.font&&(i.font=r.font),void 0===i.tracking&&(i.tracking=r.tracking)),i.size>n&&(n=i.size),s=t.FontLoader.fonts[i.font],o.push({"char":this.text[l],size:i.size,charCode:a,font:i.font,offset:s.glyphs[a].offset,units:s.units,tracking:this.trackingOffset(i.tracking,i.size,s.units),kerning:s.glyphs[a].getKerning(this.getCharCodeAt(l+1),1)});var c={"char":" ",size:i.size,charCode:32,font:i.font,offset:s.glyphs[32].offset,units:s.units,tracking:0,kerning:0};o[o.length-1].tracking=0,e=o.length;for(var g=0,d=0,u=0,p=null,l=0;e>l;l++)p=o[l],g=g+p.offset+p.kerning,d+=(p.offset+p.kerning)*p.size,u+=(p.offset+p.kerning+p.tracking)*p.size;if(d>h){if(this.autoReduce===!0)return this.tracking=0,this.size=this.original.size*h/(d+c.offset*c.size),null!=this.minSize&&this.size<this.minSize&&(this.size=this.minSize,this.renderCycle===!1?this.overset=!0:this.oversetPotential=!0),!0}else{var f=this.offsetTracking((h-d)/e,p.size,p.units);if(0>f&&(f=0),f>this.original.tracking&&this.autoExpand)return this.tracking=null!=this.maxTracking&&f>this.maxTracking?this.maxTracking:f,this.size=this.original.size,!0;if(f<this.original.tracking&&this.autoReduce)return this.tracking=null!=this.maxTracking&&f>this.maxTracking?this.maxTracking:f,this.size=this.original.size,!0}return!0},s.prototype.characterLayout=function(){for(var i,s=this.text.length,e={size:this.size,font:this.font,tracking:this.tracking,characterCase:this.characterCase,fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth},h=e,r=0,a=0;s>a;a++)if(null!==this.style&&void 0!==this.style[a]&&(h=this.style[a],void 0===h.size&&(h.size=e.size),void 0===h.font&&(h.font=e.font),void 0===h.tracking&&(h.tracking=e.tracking),void 0===h.characterCase&&(h.characterCase=e.characterCase),void 0===h.fillColor&&(h.fillColor=e.fillColor),void 0===h.strokeColor&&(h.strokeColor=e.strokeColor),void 0===h.strokeWidth&&(h.strokeWidth=e.strokeWidth)),"\n"!=this.text.charAt(a)){if(t.FontLoader.isLoaded(h.font)===!1)return t.FontLoader.load(this,[h.font]),!1;if(0==r&&(r=this.initialOffset+this.trackingOffset(this.initialTracking,h.size,t.FontLoader.getFont(h.font).units)),i=new t.Character(this.text.charAt(a),h,a),this.original.character&&(this.original.character.added&&i.on("added",this.original.character.added),this.original.character.click&&i.on("click",this.original.character.click),this.original.character.dblclick&&i.on("dblclick",this.original.character.dblclick),this.original.character.mousedown&&i.on("mousedown",this.original.character.mousedown),this.original.character.mouseout&&i.on("mouseout",this.original.character.mouseout),this.original.character.mouseover&&i.on("mouseover",this.original.character.mouseover),this.original.character.pressmove&&i.on("pressmove",this.original.character.pressmove),this.original.character.pressup&&i.on("pressup",this.original.character.pressup),this.original.character.removed&&i.on("removed",this.original.character.removed),this.original.character.rollout&&i.on("rollout",this.original.character.rollout),this.original.character.rollover&&i.on("rollover",this.original.character.rollover),this.original.character.tick&&i.on("tick",this.original.character.tick)),i.missing&&(null==this.missingGlyphs&&(this.missingGlyphs=[]),this.missingGlyphs.push({position:a,character:this.text.charAt(a),font:h.font})),0==h.tracking&&1==this.ligatures){var o=this.text.substr(a,4);i._font.ligatures[o.charAt(0)]&&i._font.ligatures[o.charAt(0)][o.charAt(1)]&&(i._font.ligatures[o.charAt(0)][o.charAt(1)][o.charAt(2)]?i._font.ligatures[o.charAt(0)][o.charAt(1)][o.charAt(2)][o.charAt(3)]?(i.setGlyph(i._font.ligatures[o.charAt(0)][o.charAt(1)][o.charAt(2)][o.charAt(3)].glyph),a+=3):(i.setGlyph(i._font.ligatures[o.charAt(0)][o.charAt(1)][o.charAt(2)].glyph),a+=2):(i.setGlyph(i._font.ligatures[o.charAt(0)][o.charAt(1)].glyph),a+=1))}if(1==this.overset)break;if(1==this.measured&&r+i.measuredWidth>this.getWidth()&&1==this.oversetPotential){this.oversetIndex=a,this.overset=!0;break}if(0==this.measured&&r+i.measuredWidth>this.getWidth()){this.oversetIndex=a,this.overset=!0;break}i.hPosition=r,this.characters.push(i),this.block.addChild(i),r=r+i._glyph.offset*i.size+i.characterCaseOffset+i.trackingOffset()+i._glyph.getKerning(this.getCharCodeAt(a+1),i.size)}s=this.characters.length;var n,l=!1;for(a=0;s>a;a++)if(i=this.characters[a],n=this.pathPoints.getPathPoint(i.hPosition,r,i._glyph.offset*i.size),1==l&&(this.characters[a-1].parent.rotation=n.rotation,l=!1),1==n.next&&(l=!0),i.rotation=n.rotation,3==this.valign)if(i.x=n.x,i.y=n.y,n.offsetX){var c=new createjs.Container;c.x=n.x,c.y=n.y,c.rotation=n.rotation,i.parent.removeChild(i),c.addChild(i),i.x=n.offsetX,i.y=0,i.rotation=0,this.addChild(c)}else i.x=n.x,i.y=n.y,i.rotation=n.rotation;else{var c=new createjs.Container;c.x=n.x,c.y=n.y,c.rotation=n.rotation,i.parent.removeChild(i),c.addChild(i),i.x=0,i.y=0==this.valign?i.size:4==this.valign?i._font.descent/i._font.units*i.size:1==this.valign?i._font["cap-height"]/i._font.units*i.size:5==this.valign?i._font["x-height"]/i._font.units*i.size:6==this.valign?i._font.ascent/i._font.units*i.size:2==this.valign?i._font["cap-height"]/i._font.units*i.size/2:7==this.valign?this.valignPercent*i.size:0,i.rotation=0,this.addChild(c)}return this.original.block&&(this.original.block.added&&this.block.on("added",this.original.block.added),this.original.block.click&&this.block.on("click",this.original.block.click),this.original.block.dblclick&&this.block.on("dblclick",this.original.block.dblclick),this.original.block.mousedown&&this.block.on("mousedown",this.original.block.mousedown),this.original.block.mouseout&&this.block.on("mouseout",this.original.block.mouseout),this.original.block.mouseover&&this.block.on("mouseover",this.original.block.mouseover),this.original.block.pressmove&&this.block.on("pressmove",this.original.block.pressmove),this.original.block.pressup&&this.block.on("pressup",this.original.block.pressup),this.original.block.removed&&this.block.on("removed",this.original.block.removed),this.original.block.rollout&&this.block.on("rollout",this.original.block.rollout),this.original.block.rollover&&this.block.on("rollover",this.original.block.rollover),this.original.block.tick&&this.block.on("tick",this.original.block.tick)),!0},s.prototype.trackingOffset=function(t,i,s){return i*(2.5/s+1/900+t/990)},s.prototype.offsetTracking=function(t,i,s){return Math.floor(990*(t-2.5/s-1/900)/i)},s.prototype.getCharCodeAt=function(i){return this.characterCase==t.Case.NORMAL?this.text.charAt(i).charCodeAt(0):this.characterCase==t.Case.UPPER?this.text.charAt(i).toUpperCase().charCodeAt(0):this.characterCase==t.Case.LOWER?this.text.charAt(i).toLowerCase().charCodeAt(0):this.characterCase==t.Case.SMALL_CAPS?this.text.charAt(i).toUpperCase().charCodeAt(0):this.text.charAt(i).charCodeAt(0)},s}(createjs.Container));t.PathText=i}(txt||(txt={}));var txt;!function(t){!function(t){t[t.Rainbow=0]="Rainbow",t[t.Stairstep=1]="Stairstep"}(t.PathFit||(t.PathFit={}));t.PathFit;!function(t){t[t.Center=0]="Center",t[t.Right=1]="Right",t[t.Left=2]="Left"}(t.PathAlign||(t.PathAlign={}));var i=(t.PathAlign,function(){function t(t,i,s,e,h,r){void 0===i&&(i=0),void 0===s&&(s=null),void 0===e&&(e=!1),void 0===h&&(h=0),void 0===r&&(r=0),this.pathElement=null,this.path=null,this.start=0,this.center=null,this.end=null,this.angles=null,this.flipped=!1,this.fit=0,this.align=0,this.length=null,this.realLength=null,this.closed=!1,this.clockwise=!0,this.path=t,this.start=i,this.align=r,this.end=s,this.flipped=e,this.fit=h,this.update()}return t.prototype.update=function(){this.pathElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.pathElement.setAttributeNS(null,"d",this.path),this.length=this.pathElement.getTotalLength(),this.closed=-1!=this.path.toLowerCase().indexOf("z");var t=this.length/10,i=[];i.push(this.getRealPathPoint(0)),i.push(this.getRealPathPoint(t)),i.push(this.getRealPathPoint(2*t)),i.push(this.getRealPathPoint(3*t)),i.push(this.getRealPathPoint(4*t)),i.push(this.getRealPathPoint(5*t)),i.push(this.getRealPathPoint(6*t)),i.push(this.getRealPathPoint(7*t)),i.push(this.getRealPathPoint(8*t)),i.push(this.getRealPathPoint(9*t)),i.push(this.getRealPathPoint(10*t));var s=(i[1].x-i[0].x)*(i[1].y+i[0].y)+(i[2].x-i[1].x)*(i[2].y+i[1].y)+(i[3].x-i[2].x)*(i[3].y+i[2].y)+(i[4].x-i[3].x)*(i[4].y+i[3].y)+(i[5].x-i[4].x)*(i[5].y+i[4].y)+(i[6].x-i[5].x)*(i[6].y+i[5].y)+(i[7].x-i[6].x)*(i[7].y+i[6].y)+(i[8].x-i[7].x)*(i[8].y+i[7].y)+(i[9].x-i[8].x)*(i[9].y+i[8].y)+(i[10].x-i[9].x)*(i[10].y+i[9].y);this.clockwise=s>0?!1:!0,null==this.end&&(this.end=this.length),0==this.closed?0==this.flipped?this.start>this.end?(this.realLength=this.start-this.end,this.center=this.start-this.realLength/2):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2):this.start>this.end?(this.realLength=this.start-this.end,this.center=this.start-this.realLength/2):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2):0==this.clockwise?0==this.flipped?this.start>this.end?(this.realLength=this.start-this.end,this.center=this.end+this.realLength/2):(this.realLength=this.start+this.length-this.end,this.center=this.end+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length)):this.start>this.end?(this.realLength=this.end+this.length-this.start,this.center=this.start+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length)):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2):0==this.flipped?this.start>this.end?(this.realLength=this.end+this.length-this.start,this.center=this.start+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length)):(this.realLength=this.end-this.start,this.center=this.start+this.realLength/2):this.start>this.end?(this.realLength=this.start-this.end,this.center=this.end+this.realLength/2):(this.realLength=this.start+this.length-this.end,this.center=this.end+this.realLength/2,this.center>this.length&&(this.center=this.center-this.length))},t.prototype.getRealPathPoint=function(t){return this.pathElement.getPointAtLength(t>this.length?t-this.length:0>t?t+this.length:t)},t.prototype.getPathPoint=function(t,i,s){void 0===i&&(i=0),void 0===s&&(s=0),t=.99*t,i=.99*i;var e,h,r,a=!0,o=0;0==this.closed?0==this.flipped?this.start>this.end?(2==this.align?o=this.start:0==this.align?o=this.start-(this.realLength-i)/2:1==this.align&&(o=this.start-this.realLength-i),r=o-t,a=!1):(2==this.align?o=this.start:0==this.align?o=this.start+(this.realLength-i)/2:1==this.align&&(o=this.start+this.realLength-i),r=o+t):this.start>this.end?(2==this.align?o=this.start:0==this.align?o=this.start-(this.realLength-i)/2:1==this.align&&(o=this.start-this.realLength-i),r=o-t,a=!1):(2==this.align?o=this.start:0==this.align?o=this.start+(this.realLength-i)/2:1==this.align&&(o=this.start+this.realLength-i),r=o-t):0==this.clockwise?0==this.flipped?this.start>this.end?(2==this.align?o=this.start:0==this.align?o=this.start-(this.realLength-i)/2:1==this.align&&(o=this.start-this.realLength-i),r=o-t,a=!1):(2==this.align?(o=this.start,r=o-t):0==this.align?(o=this.start-(this.realLength-i)/2,r=o-t):1==this.align&&(o=this.start-this.realLength-i,r=o-t),0>r&&(r+=this.length),a=!1):this.start>this.end?(2==this.align?(o=this.start,r=o+t):0==this.align?(o=this.start+(this.realLength-i)/2,r=o+t):1==this.align&&(o=this.start+this.realLength-i,r=o+t),r>this.length&&(r-=this.length)):(2==this.align?o=this.start:0==this.align?o=this.start+(this.realLength-i)/2:1==this.align&&(o=this.start+this.realLength-i),r=o+t):0==this.flipped?this.start>this.end?(2==this.align?(o=this.start,r=o-t):0==this.align?(o=this.start-(this.realLength-i)/2,r=o-t):1==this.align&&(o=this.start-this.realLength-i,r=o-t),0>r&&(r+=this.length),a=!1):(2==this.align?o=this.start:0==this.align?o=this.start-(this.realLength-i)/2:1==this.align&&(o=this.start-this.realLength-i),r=o-t,a=!1):this.start>this.end?(2==this.align?o=this.start:0==this.align?o=this.start+(this.realLength-i)/2:1==this.align&&(o=this.start+this.realLength-i),r=o+t):(2==this.align?(o=this.start,r=o+t):0==this.align?(o=this.start+(this.realLength-i)/2,r=o+t):1==this.align&&(o=this.start+this.realLength-i,r=o+t),r>this.length&&(r-=this.length)),e=this.getRealPathPoint(r);var n=this.pathElement.pathSegList.getItem(this.pathElement.getPathSegAtLength(r)).pathSegType;if(4==n)if(a);else if(this.pathElement.getPathSegAtLength(r)!=this.pathElement.getPathSegAtLength(r-s)){var l=this.getRealPathPoint(r),c=this.getRealPathPoint(r-s),g=this.pathElement.pathSegList.getItem(this.pathElement.getPathSegAtLength(r)-1),d=Math.sqrt(Math.pow(l.x-g.x,2)+Math.pow(l.y-g.y,2)),u=Math.sqrt(Math.pow(c.x-g.x,2)+Math.pow(c.y-g.y,2));if(d>u){e=l,h={x:g.x,y:g.y};var p=180*Math.atan((h.y-e.y)/(h.x-e.x))/Math.PI;return e.x>h.x&&(p+=180),0>p&&(p+=360),p>360&&(p-=360),e.rotation=p,e}return e={x:g.x,y:g.y},e.offsetX=-d,e.next=!0,e}h=this.getRealPathPoint(a?r+s:r-s);var p=180*Math.atan((h.y-e.y)/(h.x-e.x))/Math.PI;return e.x>h.x&&(p+=180),0>p&&(p+=360),p>360&&(p-=360),e.rotation=p,e},t}());t.Path=i}(txt||(txt={}));var txt;!function(t){var i=function(t){function i(){t.call(this),this.hasNewLine=!1,this.hasHyphen=!1,this.hasSpace=!1,this.spaceOffset=0}return __extends(i,t),i.prototype.lastCharacter=function(){return this.children[this.children.length-1]},i}(createjs.Container);t.Word=i}(txt||(txt={}));var txt;!function(t){var i=function(t){function i(){t.call(this)}return __extends(i,t),i.prototype.lastWord=function(){return this.children[this.children.length-1]},i.prototype.lastCharacter=function(){return this.children[this.children.length-1]},i}(createjs.Container);t.Line=i}(txt||(txt={}));var txt;!function(t){var i=function(){function t(){}return t.VERSION="0.8.5",t.LICENSE="BSD-2-Clause",t.CONTACT="ted@light.ly",t}();t.Info=i}(txt||(txt={}));